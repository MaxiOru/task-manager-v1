# Task Manager V1

Una aplicaciÃ³n web para gestionar tareas pendientes de usuarios, desarrollada en PHP con MySQL y optimizada para XAMPP.

## ğŸ“‹ CaracterÃ­sticas principales

- **Sistema de usuarios** con autenticaciÃ³n y roles diferenciados
- **GestiÃ³n completa de tareas** (Crear, listar, actualizar estados)
- **Sistema de aprobaciÃ³n** - Los usuarios deben ser aprobados por el jefe
- **Estados de tareas**: Pendiente, En progreso, Completada
- **Fechas de vencimiento** para cada tarea
- **Interfaz responsive** y fÃ¡cil de usar

## ğŸš€ TecnologÃ­as utilizadas

- **Backend**: PHP 7.4+
- **Base de datos**: MySQL 8.0+ (compatible con XAMPP)
- **Frontend**: HTML5, CSS3
- **Servidor**: Apache (XAMPP)
- **Arquitectura**: MVC (Modelo-Vista-Controlador)
- **Seguridad**: ContraseÃ±as hasheadas, sesiones PHP, consultas preparadas

## ğŸ“ Estructura del proyecto

```
task-manager-v1/
â”œâ”€â”€ index.php                # Punto de entrada principal
â”œâ”€â”€ logout.php               # Cerrar sesiÃ³n
â”œâ”€â”€ approve_user.php         # AprobaciÃ³n de usuarios
â”œâ”€â”€ reject_user.php          # Rechazo de usuarios
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.php         # ConfiguraciÃ³n de base de datos
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ AuthController.php   # Control de autenticaciÃ³n
â”‚   â””â”€â”€ TaskController.php   # Control de tareas
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ Task.php             # Modelo de usuarios
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ dashboard_jefe.php   # Panel del jefe
â”‚   â”œâ”€â”€ dashboard_usuario.php # Panel del usuario
|   â”œâ”€â”€ register.php             # Registro de usuarios
â”œâ”€â”€ public/
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ style.css        # Estilos CSS
â”œâ”€â”€ dumb.sql                 # Base de datos completa
â””â”€â”€ README.md               # Este archivo
```

## âš™ï¸ InstalaciÃ³n paso a paso

### Requisitos previos
- **XAMPP** 8.0+ instalado
- **PHP** 7.4 o superior
- **MySQL** 8.0 o superior
- **Apache** servidor web

### Pasos de instalaciÃ³n

1. **Descargar/Clonar el proyecto**
   ```bash
   git clone https://github.com/MaxiOru/task-manager-v1.git
   ```

2. **Mover a XAMPP**
   - Copiar la carpeta `task-manager-v1` a `C:/xampp/htdocs/`

3. **Iniciar servicios XAMPP**
   - Abrir el Panel de Control de XAMPP
   - Iniciar **Apache** y **MySQL**

4. **Crear la base de datos**
   - Abrir http://localhost/phpmyadmin
   - Importar el archivo `dump.sql` 
   - O crear manualmente la base de datos `task_manager_v1`

5. **Configurar conexiÃ³n (si es necesario)**
   - Editar `config/database.php` si tus credenciales son diferentes:
   ```php
   private $host = "localhost";
   private $db_name = "task_manager_v1";
   private $username = "root";        // Usuario por defecto XAMPP
   private $password = "";            // ContraseÃ±a vacÃ­a por defecto
   ```

6. **Acceder a la aplicaciÃ³n**
   - Abrir navegador en: http://localhost/task-manager-v1/index.php

## ğŸ”‘ Credenciales de prueba

El sistema incluye usuarios de demostraciÃ³n ya configurados:

### Usuario Jefe/Administrador:
- **Usuario**: `admin`
- **ContraseÃ±a**: `password`
- **Funciones**: Aprobar usuarios, ver todos los usuarios

### Usuario Normal:
- **Usuario**: `usuario_demo`
- **ContraseÃ±a**: `password`
- **Funciones**: Crear y gestionar tareas propias

## ğŸ“– GuÃ­a de uso

### Para usuarios normales:
1. **Registrarse** en http://localhost/task-manager-v1/register.php
2. **Esperar aprobaciÃ³n** del jefe
3. **Iniciar sesiÃ³n** con las credenciales
4. **Crear tareas** desde el dashboard o desde "Crear nueva tarea"
5. **Actualizar estados** de las tareas (pendiente â†’ en progreso â†’ completada)
6. **Ver todas las tareas** personales en el dashboard

### Para el jefe/administrador:
1. **Iniciar sesiÃ³n** con credenciales de admin
2. **Aprobar nuevos usuarios** desde el panel de administraciÃ³n
3. **Ver lista de usuarios** pendientes y aprobados
4. **Gestionar el sistema** de usuarios

## ğŸ”§ Funcionalidades tÃ©cnicas implementadas

### AutenticaciÃ³n y Seguridad
- âœ… Login con validaciÃ³n de credenciales
- âœ… ContraseÃ±as hasheadas con `password_hash()`
- âœ… GestiÃ³n de sesiones PHP
- âœ… ValidaciÃ³n de roles y permisos
- âœ… Consultas preparadas (PDO) contra inyecciones SQL
- âœ… Escape de datos con `htmlspecialchars()`

### Base de datos
- âœ… Estructura normalizada con relaciones
- âœ… Claves forÃ¡neas con integridad referencial
- âœ… Campos enum para estados y roles
- âœ… Indices optimizados para consultas

### Arquitectura y CÃ³digo
- âœ… PatrÃ³n MVC implementado
- âœ… SeparaciÃ³n clara de responsabilidades
- âœ… Controladores para lÃ³gica de negocio
- âœ… Modelos para acceso a datos
- âœ… Vistas para presentaciÃ³n

## ğŸ“Š Base de datos

### Tabla `users`
| Campo | Tipo | DescripciÃ³n |
|-------|------|-------------|
| id | int(11) | ID Ãºnico auto-incremental |
| username | varchar(50) | Nombre de usuario Ãºnico |
| password | varchar(255) | ContraseÃ±a hasheada |
| role | enum('jefe','normal') | Rol del usuario |
| approved | tinyint(1) | Estado de aprobaciÃ³n |
| rejected | tinyint(1) | Estado de rechazo |
| created_at | tinyint(1) | Fecha de registro |

### Tabla `tasks`
| Campo | Tipo | DescripciÃ³n |
|-------|------|-------------|
| id | int(11) | ID Ãºnico auto-incremental |
| user_id | int(11) | ID del usuario (FK) |
| title | varchar(100) | TÃ­tulo de la tarea |
| description | text | DescripciÃ³n detallada |
| status | enum(...) | Estado de la tarea |
| due_date | date | Fecha de vencimiento |
| approved | tinyint(1) | AprobaciÃ³n futura |
| assigned_to | int | AsignaciÃ³n futura (FK) |

## ğŸ”„ Flujo de la aplicaciÃ³n

1. **Registro** â†’ Usuario se registra (approved = 0)
2. **AprobaciÃ³n** â†’ Jefe aprueba usuario (approved = 1)
3. **Index** â†’ Usuario inicia sesiÃ³n
4. **Dashboard** â†’ Se redirige segÃºn rol (jefe/usuario)
5. **GestiÃ³n** â†’ Crear/actualizar tareas o aprobar usuarios
